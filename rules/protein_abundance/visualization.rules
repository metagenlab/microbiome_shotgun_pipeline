
rule plot_virulence:
    conda:
        '../../envs/r-plots.yml'
    params:
        sample_table = config["local_samples"]
    input:
        database = "report/mmseq_search/virulence/VF_db/RPKM.db"
    output:
        "report/mmseq_search/virulence/VF_db/plots/VF_counts.svg",
        #plot3 = "report/mmseq_search/virulence/VF_db/plots/distribution_rpkm.svg",
        #plot4 = "report/mmseq_search/virulence/VF_db/plots/distribution_counts.svg",
        #plot5 = "report/mmseq_search/virulence/VF_db/plots/heatmap.pdf",
        #plot6 = "report/mmseq_search/virulence/VF_db/plots/log2_treated_vs_untreated.pdf",
        #plot7 = "report/mmseq_search/virulence/VF_db/plots/RPKM_vs_log2_change.pdf",
        expand("report/mmseq_search/virulence/VF_db/plots/taxonomy_{group}.svg", group = list(set((all_samples["group_1"]))))
    script: "scripts/virulence_visualization.R"


rule plot_resistance:
    conda:
        '../../envs/r-plots.yml'
    params:
        sample_table = config["local_samples"]
    input:
        database = "report/mmseq_search/resistance/CARD_protein_homolog_model/RPKM.db"
    output:
        "report/mmseq_search/resistance/CARD_protein_homolog_model/plots/RES_counts.svg",
        "report/mmseq_search/resistance/CARD_protein_homolog_model/plots/RES_counts_more_than_10.svg",
    script: "scripts/resistance_visualization.R"