
rule execute_rgi:

    input:
        scaffolds = "samples/{sample}/assembly/spades/large_contigs_edit.fasta",
    singularity:
        "docker://quay.io/biocontainers/rgi:5.0.0--py36hed695b0_0"
    threads:
        8
    output:
        "samples/{sample}/annotation/rgi/rgi.json"
    shell:
        """
        rgi -t contig -i {input[0]} -o $(dirname {output[0]})/rgi
        """